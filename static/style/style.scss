$hoverColor: rgba(116, 116, 116, 0.363);
$clickedColor: rgba(0, 0, 0, 0.2);
$backgroundColor: rgb(214, 214, 214);
$boxShadowsColor: rgba(0, 0, 0, 0.5);
$fontColor:rgba(31, 29, 29, 0.8);
$darkColor:rgb(39, 39, 39);
$buttonsColor: $backgroundColor;
$teachingMaskColor:#040003;
%actionColors{
  transition:.3s;
  &:hover{
    background-color: $hoverColor;
  }
  &:active{
    background-color: $clickedColor;
  }
}   
// %svgIcon{
@mixin svgIcon($invert){
  width:2.2em;
  height:2.2em;
  margin-left:.3em;
  margin-right:.3em;
  filter:invert($invert);
}
@mixin text-stroke($size, $strokeColor) {
  $rSize : $size - (2*$size);
  text-shadow:
    $size $size 0 $strokeColor,
    $rSize $rSize 0 $strokeColor,  
    $size $rSize 0 $strokeColor,
    $rSize $size 0 $strokeColor,
    $size $size 0 $strokeColor;
}
:root{
  font-size:16px;
}
*{
  box-sizing: border-box;
}
a{
  text-decoration: none;
  color:inherit;
}
h1,h2,p{
  // margin:1em 0 1em 0;
  margin:0;
}
body{
  background-color:$backgroundColor;
  font-family: 'Ubuntu', sans-serif;
  margin:0;
  .menu{
    $menuWidth:20vw;
    position:fixed;
    left:0;
    top:0;
    z-index: 2;
    padding:.5rem;
    .toggler{
      cursor:pointer;
      width: 2.5rem;
      height: 2.5rem;
      border-radius:50%;
      display:flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      @extend %actionColors;
      div{
        border-radius:5px;
        background-color:$buttonsColor;
        height:.2rem;
        width:1.4rem;
        margin:.1rem;
      }
    }
    #toggler{
      display:none;
      &:checked + nav{
        transition:.5s;
        left:0;
      }
    }
    nav{
      width:$menuWidth;
      left:(-$menuWidth);
      position:absolute;
      transition:.5s;
      top:3.5rem;
      height:calc(100vh - 3.5rem);
      display:flex;
      flex-direction:column;
      color:$fontColor;
      padding-top:.5rem;
      background:lighten($backgroundColor, 10);
      a{
        @extend %actionColors;
        display:flex;
        align-items: center;
        border-radius:3em;
        img{
          // @extend %svgIcon;
          @include svgIcon(80%);
        }
        span{
          padding-right:1.5em;
        }
      }
    }
  }
  .wrapper{
    scroll-behavior: smooth;
    letter-spacing: 0.2px;
    line-height: 20px;
    color:$fontColor;
    height:100vh;
    overflow-y: auto;
    overflow-x:hidden;
    perspective: 100vh;
    position:relative;
    .navHeader{
      position:sticky;
      top:0;
      height: 3.5rem;
      background-color:$darkColor;
      z-index:2;
      display:flex;
      padding:.5rem;
      padding-left:3.2rem;
      a{
        display:flex;
        align-items: center;
        img{
          height:2rem;
          width:2rem;
        }
      }
      .searchContainer{
        flex:1;
        display:flex;
        justify-content: flex-end;
        align-items: center;
        position:relative;
        form{
          display:flex;
          max-width: 60%;
          border-radius: 2rem;
          background-color: $hoverColor;
          img{
            // @extend %svgIcon;
            @include svgIcon(0%);
            transform: scale(0.6);
            margin:0;
            cursor:pointer;
          }
          input{
            background-color: transparent;
            border:none;
            outline:none;
            font-size:1.2rem;
            width:50%;
            flex:1;
          }
        }
        .suggestions{
          display:none;
          flex-direction: column;
          border:2px dashed red;
          top:100%;
          position:absolute;
          background-color: $backgroundColor;
          right:0;
          max-height:60vh;
          overflow-y:auto;
          a{
            border:2px dashed transparent;
            &:hover{
              border:2px dashed blue;
            }
            p{
              margin:0;
            }
            span{
              background-color:yellow;
            }

          }
        }
      }
    }
    %rowSection{
      flex:1;
      max-width:80%;
      left:0;
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows:3fr 2fr;
      a{
        &:nth-child(1){
          text-align: right;
        }
        &:nth-child(2){
          img{
            max-width:5rem;
            max-height:5rem;     
          }
        }
        &:nth-child(3){
          text-align: left;
        }
        article{
          display:flex;
          flex-direction: column-reverse;
          justify-content: center;
          align-items: center;
          header{
            padding:0;
            h2,h3,p{
              margin:0;
              width:100%;
              display:inline-block;
              padding:0;
              text-align: center;
            }
          }
          img{
            max-width:2rem;
            max-height:2rem;
          }
  
        }
      }
      footer{
        height:2rem;
        z-index: 1;
        display:flex;
        justify-content: center;
        height:100%;
        // display:flex;
        align-items: flex-end;
        a{
          text-align: center;
          color:inherit;
          &:hover{
            color:rgb(146, 129, 129);
            transition: .5s;
          }
        }
      }
      @media (max-width:720px){
        // border:2px dashed red;
        grid-template-columns:1fr;
        grid-template-rows: 1fr 1fr 1fr;          
        a{
          width:60%;
          margin:auto;
          // border:2px dashed red;
        }
        footer{
          a{
            text-align: center!important;
          }
        }
      }

    }
    .topHeader{
      display:flex;
      color:$fontColor;
      height:calc(100vh - 3.5em);
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position:relative;
      transform-style: preserve-3d;
      z-index:-1;
      .photo{
        width:100%;
        height:100%;
        background-repeat: no-repeat;
        position:absolute;
        z-index:-1;
        // background-size:100% auto;
        background-size:cover;
      }  
      .mask{
        background: lighten($backgroundColor, 5%);
        clip-path: polygon(50% 100%, 100% 0%, 100% 100%, 0 100%, 0 0);
        height:calc(10vh + 5px);
        bottom:-5px;
      }
      .background{
        // background: linear-gradient($darkColor,$darkColor,$darkColor, $teachingMaskColor ,$teachingMaskColor);
        background:#202020;
        transform: translateZ(-90vh) scale(2);
        top:1.75em;
        left:-.5rem;
        // z-index:-1;
      }
      .sea{
        // display:none;
        transform: translateZ(-30vh) scale(1.3);
        background-image: url("../img/frontPage/sea.webp");
        height:80vh;
        bottom:-35vh;
      }
      .sunset{
        transform: translateZ(-50vh) scale(1.5);
        background-image: url("../img/frontPage/sunset.webp");
        background-size:100% auto;
        height:50vh;
        top:25vh;
        background-position:center;
      }
      .clouds{
        transform: translateZ(25vh) scale(.8);
        background-position:center;
        background-size:auto 100%;
        background-repeat: no-repeat;
        top:15vh;
        height:60vh;
        background-image: url("../img/frontPage/clouds.webp");
      }
      .title{
        transform: translateZ(51vh) scale(.5);
        top:10vh;
        display:flex;
        flex-direction: column;
        justify-content: flex-end;
        color:#fff;
        height:50vh;
        padding:2em;
        z-index:1;
        width:fit-content;
        position:absolute;
        h1,h2,p{  margin:1em 0 1em 0; }
        h1{
          margin:0;
          line-height: .5em;
          font-size:4em;
          b{
            font-weight: bolder;
          }
        }
        h2{
          margin-bottom: 0;
        }
        p{
          font-weight: bold;
          margin:0;
        }
      }
    }
    >*{
      .next,.prev{
        z-index:2;
        cursor:pointer;
        position:absolute;
        bottom:-2px;
        font-size:.8em;
        display:flex;
        justify-content: center;
        width:100%;
        a{
          position:relative;
          z-index:1;
          border-radius:50% 50% 0 0;
          background: lighten($backgroundColor, 5%);
          display:flex;
          justify-content: center;
          align-items: center;
          width: 2rem;
          height: 2rem;
          img{
            position:absolute;
            width:50%;
            height:50%;
            margin:0;
            transform: rotate(-90deg);
            filter:invert(80%);
          }  
        }
      }
      .prev{
        top: 4.5em;
        bottom:unset;
        justify-content: center;
        a{
          border-radius:0 0 50% 50%;
          img{
            transform: rotate(90deg);
          }
        }
      }
      h1,h2,p{
        // margin:.5em 0 .5em 0;
        margin:0;
      }
    }
    .mask{
      background-color:$teachingMaskColor;
      clip-path: polygon(50% 100%, 100% 0%, 100% 100%, 0 100%, 0 0);
      height:calc(10vh + 5px);
      position:relative;
      bottom:-.1rem;
      // border:2px dashed red;
      width:100%;
      &.light{
        background-color:$backgroundColor;
        // border:2px dashed red;
      }
    }
    #code{
      overflow-y: hidden;
      background: linear-gradient(lighten($backgroundColor,5%),$backgroundColor);
      background-color:$backgroundColor;
      &:before{
        content:'';
        background: linear-gradient(lighten($backgroundColor,5%),$backgroundColor);
        background-color: $backgroundColor;
        position:absolute;
        width:100%;
        height:100%;
        left:0;
        z-index:-1;
      }
      .codeprojects{
        width:100%;
        display:flex;
        flex-direction: column;
        align-items: center;
        header{
          flex:1;
          padding-top:3.5rem;
          h1{
            margin:2rem 0 .5rem 0;
          }
          h2{
            margin-bottom:2rem;
          }
          *{
            text-align: center;
            flex:1;
          }
          p{
            margin-bottom:0;
            padding:0 3rem;
            text-align: left;
            // padding-bottom: 2rem;
          }
        } 
        section{
          @extend %rowSection;
        }
        ul{
          background-color: rgba(0, 0, 0, 0.171);
          padding:.5rem;
          display:flex;
          list-style-type: none;
          flex-direction: column;
          flex-wrap: wrap;
          // margin:auto;
          margin:2rem auto;
          max-height:15rem;
          min-width:80%;
          li{
            font-size: 90%;
            padding:.5rem 0;
            &:before{content:"➡️ ";}
          }
        }
        footer{
          background-color: $backgroundColor;

        }
      }
    }
    #teaching{
      position:relative;
      transform-style: preserve-3d;
      color:#fff;
      background-color: $teachingMaskColor;
      display:flex;
      flex-direction: column;
      .stopper{
        position:absolute;
        background-color: $teachingMaskColor;
        background-image: url("../img/frontPage/projects_footer.webp");
        background-size:auto 100%;
        background-repeat: no-repeat;
        background-position: center;
        height:15rem;
        width:100%;
        z-index:-1;
      }
      >header{
        margin-top:13rem;
        // min-height:40vh;
        h1{
          // border:2px dashed red;
          padding-left:1rem;
          font-size:3rem;
        }
        h2{
          padding-left:1rem;
          margin:.5rem;
          margin-bottom:3.4rem;
        }  
      }
      .content{
        display:flex;
        flex-direction: column;
        align-items: center;
        // transform: translateZ(0);
        p{
          flex:1;
          margin:0 0 2rem 1.5rem;
          // margin-left:1.5rem;
        }
        section{
          padding-bottom:0;
          width:80%;
          @extend %rowSection;
        }

      }
    }
    #buisness{
      transform-style: preserve-3d;
      // border:2px dashed red;
      color:$fontColor;
      z-index:-1;
      min-height:40vh;
      padding:2em;
      padding-top:3.5rem;
      display:flex;
      flex-direction: column;
      // background-color: rgba(255, 255, 255, 0.7);
      // width:10%;
      .me{
        transform: translateZ(-25vh) scale(1.25);
        background-size: auto 100%;
        background-position: right;
        background-image: url('/img/frontPage/half_index.webp');
        background-repeat: no-repeat;
        position:absolute;
        // border:5px dashed pink!important;
        width:100%;
        top:3em;
        right:-.3em;
        height:100%;
        // bottom:-15vh;
        z-index:-1;
      }
      h1{
        // border:2px dashed blue;
        font-size:3rem;
        line-height: 1em;
      }
      >p{
        // border:2px dashed green;
        // width:60%;
        padding:2rem 0 2rem 2rem;
        line-height:1.5rem;
      }
      section{
        @extend %rowSection;
        padding:2rem 0;
      }

    }
    >footer{
      display:flex;
      justify-content: flex-end;
      align-items: flex-end;
      flex-direction: column;
      min-height:30vh;
      background-color: invert($backgroundColor);
      color:invert($fontColor);
      width:100%;
      z-index:1;
      padding:2rem;      
      position:absolute;
      nav{
        display:grid;
        flex:1;
        height:100%;
        grid-template-columns: 1fr 1fr 1fr;
        width:100%;
        p{
          display:flex;
          flex-direction: column;
          align-items: flex-start;
          a{
            padding:5px;
            font-size:.7em;
          }  
        }

      }
    }

    // TO OTHER CSS FILE
    .list{
      display:flex;
      flex-wrap:wrap;
      position:relative;
      justify-content:flex-start;
      width:100%;
      $tableBackground:$darkColor;
      nav{
        color:#fff;
        position:relative;
        margin:0 auto;
        background-color: $tableBackground;
        padding: 1rem .5rem;
        display:flex;
        flex-direction: column;
        h1{
          margin:0 0 .5rem 0;
        }
        &:after{
          content:'';
          position:absolute;
          width:100%;
          top:-3rem;
          height:3rem;
          left:0;
          box-sizing: border-box;
          background-color: inherit;
          background-color: $tableBackground;
        }
        &:after{
          top:unset;
          bottom:-2.6rem;
          clip-path: polygon(0 0, 50% 100%, 100% 0);
          border-radius: 20rem;
        }
        >header{
          background-color: rgba(0, 0, 0, 0.295);
          display:flex;
          justify-content: space-between;
          padding-left:calc(100px + 1rem);        
          h4{
            padding:.5rem;
            margin:0;
          }
        }
        section{
          border:.5rem solid rgba(68, 56, 56, 0.521);
          margin-bottom:.5rem;
          position:relative;
          display:flex;
          align-items: center;
          >header{
            border-radius: 50%;
            margin:0 .5rem;
            box-shadow: 0 0 1rem rgb(26, 25, 25);
            img{
              margin:.5rem;
              padding:.5rem;
              width:100px;
              height:100px;
            }  
          }
          article{
            width:100%;
            .date{
              margin:.5rem;
              right:0;
              top:0;
              // border:2px dashed #fff;
              position:absolute;
            }
            header{
              margin:2rem .5rem 0 .5rem;
              h3{
                margin:.5rem 0;
              }
            }
            a{
              margin:1rem auto;
              max-width:50%;
              display:flex;
              border:2px solid #fff;
              justify-content: center;
              b{
                mix-blend-mode: difference;
                padding:.5rem 2rem;    
              }
            }    
            u{
              margin:.5rem;
              display:flex;
              justify-content: flex-end;
            }
          }
        }  
      }
    }
    .details{
      margin-top:275px; // img height - font height
      border:2px dashed green;
      background-color:rgba(255, 0, 0, 0.247);
      position:relative;
      transform-style: preserve-3d;
      // text-align: center;
      z-index:-1;
      .background{
        height:20vh;
        width:40vw;
        top:-100vh;
        position:absolute;
        left:30vw;
        transform: translateZ(-70vh) scale(7);
        background-color:red!important;
        // &:after{
        //   content :"";
        //   background-color:red;
        // }
      }
      .mainImg{
        transform: translateZ(-30vh) scale(.9);
        background-position:center;
        top:-50vh;
        margin:auto;
        width:100%;
        position:absolute;
        display:flex;
        justify-content: center;
        align-items: center;
        img{
          width:250px;
          height:250px;
        }  
      }
      .content{
        min-height:calc( 70vh - 275px );
        background-color: $backgroundColor;
        position:relative;
        // padding:0 1em 0 1em;
        // padding:0 40% 0 40%;

        &:before{
          content:'';
          position:absolute;
          width:105vw;
          height:50px;
          top:-45px;
          z-index:-1;
          // top:225px;
          background: linear-gradient(transparent, $backgroundColor, $backgroundColor);
          left:0;
        }
        h1,h2,u{
          text-align: left;
          margin:0;
        }
        h1{
          position:absolute;
          top:-30px;
          font-size:50px;
        }
        h2{
          line-height: .9em;
        }
        u{
          display:flex;
          width:100%;
        }
        section{
          text-align: left;
          display:flex;
          align-items: center;
          *{
            flex:1;
            padding:5vh;
          }
          &:nth-child(odd){
            flex-direction: row-reverse;
          }
        }
      }
    }
    .div404{
      min-height: calc(70vh - 3rem);
      background-image: url("/img/meta/404.webp");
      background-size: cover;
      background-position: center;
      display:flex;
      color:#fff;
      font-size:1.2em;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      img{
        max-height: 100%;
        position:absolute;
      }
    }
  }
}
// mobile
// @media only screen and (max-device-width : 720px) {
@media (max-width : 720px) {
  body{
    .menu{
      $menuWidth:50vw;
      nav{
        width:$menuWidth;
        left:(-$menuWidth);  
      }
    }
    main{
      .details{
        .mainImg{
          width:100%!important;
        }
        .content{
          section{
            flex-direction: column!important;
          }

        }
      }
    }
    >.wrapper{
      #code{
        .codeprojects{
          flex-direction: column;
          section{
            min-height: fit-content;
            margin:0;
          }
        }
      }
      .list{
        >a{
          flex-direction: column-reverse;
          justify-content: center;
          text-align: center;
          article{
            padding:0 0 2rem 0;
          }


        }

      }
    }
  }
}

// bigger screens 
@media (min-width:720px){
  // border:2px dashed red;
  #code, #teaching, #buisness{
    margin:0 10vw;
  }
  .list,.details>.content{
    padding:0 20%;
  }
}
@media (min-width:1220px){
  // border:2px dashed red;
  #code, #teaching, #buisness{
    margin:0 20vw;
  }
  .list,.details>.content{
    padding:0 30%;
  }

}
